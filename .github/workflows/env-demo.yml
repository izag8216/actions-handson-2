name: Environment Variables Demo


on:
  push:
    branches: [ main ]

env:
  # ワークフローレベルの環境変数
  GLOBAL_VAR: "これはグローバル変数です"
  PROJECT_NAME: "GitHub Actions学習プロジェクト"

jobs:
  env-test:
    runs-on: ubuntu-latest
    
    env:
      # ジョブレベルの環境変数
      JOB_VAR: "これはジョブ変数です"
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: グローバル環境変数の表示
      run: |
        echo "グローバル変数: $GLOBAL_VAR"
        echo "プロジェクト名: $PROJECT_NAME"
    
        - name: ジョブ環境変数の表示
            run: echo "ジョブ変数: $JOB_VAR"
    
    - name: ステップ環境変数の使用
      env:
        STEP_VAR: "これはステップ変数です"
      run: |
        echo "ステップ変数: $STEP_VAR"
        echo "現在のユーザー: $USER"
        echo "ホームディレクトリ: $HOME"
    
    - name: GitHubコンテキスト変数の表示
      run: |
        echo "リポジトリ名: ${{ github.repository }}"
        echo "ブランチ名: ${{ github.ref }}"
        echo "コミットSHA: ${{ github.sha }}"
        echo "アクター: ${{ github.actor }}"